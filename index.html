<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- ===== CSS ===== -->
        <link rel="stylesheet" href="styles.css">
              <!--===== MAIN JS =====-->
        <script src="main.js"></script>   
        <title>Menu responsive</title>
    </head>
    <body>

            <a href="#" class="header__logo">Jhon Doe</a>

            <ion-icon name="menu-outline" class="header__toggle" id="nav-toggle"></ion-icon>

            <nav class="nav" id="nav-menu">
                <div class="nav__content bd-grid">

                    <ion-icon name="close-outline" class="nav__close" id="nav-close"></ion-icon>
    
                    <div class="nav__perfil">
                        <div class="nav__img">
                            <img src="assets/img/perfil.png" alt="">
                        </div>
                        
                        <div>
                            <a href="#" class="nav__name">Jhon Doe</a>
                            <span class="nav__profesion">Web designer</span>
                        </div>
                    </div>
    
                    <div class="nav__menu">
                        <ul class="nav__list">
                          <li class="nav-item"><a href="#" data-file="home.html" data-section="home1-content" class="nav-link active">Home</a></li> 
                          <li class="nav-item"><a href="#" data-file="research.html" data-section="research-content" class="nav-link">Research</a></li>
                          <li class="nav-item"><a href="outreach.html" class="nav-link">Outreach</a></li>
                          <li class="nav-item"><a href="resources.html" class="nav-link">Resources</a></li>
                        </ul>
                    </div>
    
                    <div class="nav__social">
                        <a href="#" class="nav__social-icon"><ion-icon name="logo-linkedin"></ion-icon></a>
                        <a href="#" class="nav__social-icon"><ion-icon name="logo-github"></ion-icon></a>
                        <a href="#" class="nav__social-icon"><ion-icon name="logo-behance"></ion-icon></a>
                    </div>
                </div>
            </nav>

          <div class="home-content" id="content-container">
      </div>
      <div class="home-content" id="SelectedText">
        <p>Replace me</p>
    </div>
     <script>
        const loadPartial = async (elAnchor, elTarget) => {
            const file = elAnchor.getAttribute("href");
            try {
                const res = await fetch(file);
                const html = await res.text();
                const domp = new DOMParser();
                const doc = domp.parseFromString(html, "text/html");
                elTarget.innerHTML = ""; // clear old content
                elTarget.append(doc.documentElement);
            } catch (err) {
                console.error(err);
                open(file, "_blank", "noopener,noreferrer");
            };
        };


        const elTarget = document.querySelector("#SelectedText");
        const elListen = document.querySelector(".listen");

        elListen.addEventListener("click", (evt) => {
            const elAnchor = evt.target.closest(".loc");
            if (!elAnchor) return;
            evt.preventDefault(); // Prevent browser following the anchor
            loadPartial(elAnchor, elTarget);
        });
    </script>   
    </body>
</html>